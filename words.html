<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🤘斷詞整理器</title>
  <link rel="stylesheet" href="words.css" />
</head>
<body>
    <h2 id="pageTitle">🤘斷詞整理器🤘</h2>
    <small><hr>專案目錄下開啟server : npx http-server  即可正常使用 <br>或在專案上層啟動server, 再打開 http://localhost:8080/jieba-js/words.html <hr><a href="dictMaker.html" target="dictMaker">字典整理器</a><hr></small>

    <div class="controls">
        <select id="encodingSelect" title="檔案編碼">
          <option value="utf-8" selected>UTF-8</option>
          <option value="big5">Big5</option>
          <option value="gbk">GBK</option>
          <option value="gb18030">GB18030</option>
          <option value="shift_jis">Shift_JIS</option>
          <option value="utf-16le">UTF-16LE</option>
          <option value="utf-16be">UTF-16BE</option>
        </select>
        <input type="file" id="openFileInput" accept=".txt,.md,.csv,.json,.log,.xml,.html,.htm,text/*" multiple style="display:none" />
        <button id="openFileBtn">開啟檔案</button>
        <!--
        來源<select id="sourceSelect" title="執行來源" style="height: 48px; background-color: #eef;">
          <option value="input" selected>改造輸入</option>
          <option value="output">改造輸出</option>
        </select>
        -->
        <button id="simpleBtn">簡易斷句+去重</button>
        <button id="punctuationSortCountBtn">簡易斷句+去重計數+排序</button>
        <select id="sortOrderSelect" title="排序方式">
          <option value="count" selected>計數排序</option>
          <option value="alpha">字母排序</option>
        </select>
        <select id="langFilterSelect">
          <option value="all">全部（中、日、韓、英）</option>
          <option value="zhen">中英文</option>
          <option value="cjk">中日韓</option>
          <option value="zh">純中文</option>
          <option value="en">純英文</option>
        </select>
        <button id="jiebaBtn"> 斷詞 </button>
        <button id="jiebaCustomBtn"> 自訂斷詞 </button>
        <button id="PimeBtn"> 字根後置 (Pime 轉 Rime)</button>
        <button id="RimeBtn"> Rime 格式 {字 字 次} </button>
        <button id="toDictMakerBtn"> 轉字典整理器 </button>
        <input type="number" id="rimeBaseInput" value="3" min="1" max="9999" style="width: 60px; height:40px; margin-left: 8px;" title="基數">
        <button id="freeCjBtn"> freeCj 格式 </button>
        <label style="margin-left: 8px;" title="限制快倉字根碼長度 (for PIME匯入)">
          <select id="freeCjLimitSelect" data-default-limit="5" style="margin-left:4px; height:36px;"></select>
        </label>
        <label style="margin-left: 8px;" title="限制輸出字根為 5 碼">
          <input type="checkbox" id="freeCjLimit5Checkbox"> 限5碼
        </label>
        <span id="wordsCharOptions" style="margin-left:8px;"></span>
        <button id="nextStepBtn">←輸出轉輸入</button>
        <button id="swapBtn" style="display:none">←互換→</button>
        
        <button id="undoBtn">復原</button>
    </div>

    <div class="container">
        <div class="text-box">
            <h3>輸入</h3>
            <textarea id="inputTextarea" placeholder="請在此輸入文字..."></textarea>
            <span id="option_status"></span>
        </div>
        <div class="text-box">
            <h3>輸出</h3>
            <textarea id="outputTextarea"></textarea>
            <span id="excuted_result"></span>
        </div>
    </div>

<!-- [rovodev] custom dictionary modal -->
<div id="rovodevModalBackdrop" class="rovoModal-backdrop"></div>
<div id="rovodevCustomDictModal" class="rovoModal-modal">
  <div class="rovoModal-card">
    <div class="rovoModal-header">自訂詞典（JSON 陣列或逗號分隔字串）</div>
    <div class="rovoModal-body">
      <textarea id="customDictInput" placeholder='[["這個", 99999999, "n"], ["布丁", 99999999, "n"]] 或 這個,布丁,是,在'></textarea>
      <div id="customDictError" class="rovoModal-error"></div>
    </div>
    <div class="rovoModal-footer">
      <button id="cancelCustomDictBtn" class="rovoModal-btn">取消</button>
      <button id="applyCustomDictBtn" class="rovoModal-btn primary">套用並斷詞</button>
    </div>
  </div>
</div>
<script src="scripts/jquery-3.7.1.slim.min.js"> </script>
<script src="scripts/configIntegration.js"></script>
<script src="scripts/cangjieProcessor.js"></script>
<script src="scripts/cangjieIntegration.js"></script>
<script src="scripts/charFilterIntegration.js"></script>
<script src="scripts/utils.js"></script>
<script src="scripts/extracted_features.js"></script>
<script src="scripts/rangeFilter.js"></script>
<script src="html-lib/components/FreeCjLimitSelector/FreeCjLimitSelector.js"></script>
<script src="scripts/modules/prefs.js"></script>
<script src="scripts/modules/uiHelpers.js"></script>
<script src="scripts/modules/fileOps.js"></script>
<script src="scripts/modules/buttonManager.js"></script>
<script src="scripts/modules/dictCore.js"></script>
<script src="scripts/dictMaker.js"></script>
<script src="scripts/legacy_compatibility.js"></script>
<!--
Gemini 給的, 根本不能用
<script src="https://unpkg.com/@node-modules/jieba@1.0.0/dist/jieba.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/jieba-js@1.0.2/index.min.js"></script>
由布丁介紹
https://blog.pulipuli.info/2017/03/jieba-js-online-chinese-analyzer-jieba.html
這個 javascript 線上 jieba 
https://github.com/pulipulichen/jieba-js/
試作如下
words.js
  // call_jieba_cut(_text, dict, _callback);
  // call_jieba_cut_join(_text, _join, _callback)

-->
<!--
 <Xscript src="scripts/main.js"></script>
 <Xscript src="scripts/require.js"></script>
 <Xscript src="https://pulipulichen.github.io/jieba-js/require-jieba-js.js"></script>
讓 require-jieba-js.js 自行載入 require.js 與 scripts/main.js，避免順序問題
-->
<script data="CDN 版本: 由 Rovodev 依本地專案給出的" Xsrc="https://pulipulichen.github.io/jieba-js/require-jieba-js.js"></script>
<script data="本地執行 完全離線無牽掛" src="scripts/require-jieba-js.js"></script>
<script src="html-lib/components/CharLengthOptions/CharLengthOptions.js"></script>
<script src="scripts/words.js"></script>

</body>
</html>

